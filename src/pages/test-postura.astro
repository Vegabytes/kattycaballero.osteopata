---
import Layout from '../layouts/Layout.astro';
import CTASection from '../components/CTASection.astro';

const pageTitle = "Test de Postura Gratuito | ¿Cómo está tu espalda? - Katy Caballero";
const pageDescription = "Descubre tu nivel de riesgo postural con este test gratuito de 6 preguntas. Obtén recomendaciones personalizadas para mejorar tu postura y prevenir dolor de espalda.";
const pageKeywords = "test postura, riesgo postural, dolor espalda postura, ergonomia puesto trabajo, mejorar postura";

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "¿Cómo sé si tengo mala postura?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Los signos más comunes de mala postura incluyen dolor de cuello y hombros, dolor lumbar recurrente, dolores de cabeza tensionales, fatiga muscular al estar sentado y hombros redondeados hacia delante. Si experimentas alguno de estos síntomas, es recomendable realizar una valoración postural con un profesional."
      }
    },
    {
      "@type": "Question",
      "name": "¿La osteopatía puede corregir problemas de postura?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Sí, la osteopatía es muy efectiva para corregir problemas posturales. El osteópata evalúa el cuerpo de forma global, identifica los desequilibrios musculoesqueléticos que causan la mala postura y trabaja con técnicas manuales para restaurar la movilidad articular, liberar tensiones musculares y reequilibrar la estructura corporal."
      }
    },
    {
      "@type": "Question",
      "name": "¿Cuánto tiempo se tarda en corregir la postura?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "El tiempo para corregir la postura varía según la gravedad del problema y el compromiso del paciente. Generalmente, con sesiones de osteopatía cada 2-4 semanas combinadas con ejercicios y estiramientos diarios, se pueden notar mejoras significativas en 4-8 semanas. Los cambios de hábitos ergonómicos en el día a día son fundamentales para mantener los resultados."
      }
    }
  ]
};
---

<Layout title={pageTitle} description={pageDescription} keywords={pageKeywords} breadcrumbs={[{ name: "Inicio", url: "/" }, { name: "Test de Postura" }]}>

  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

  <section class="page-header">
    <div class="container">
      <span class="section-tag">TEST GRATUITO</span>
      <h1>¿Cómo está tu postura?</h1>
      <p>Responde 6 preguntas y descubre tu nivel de riesgo postural con recomendaciones personalizadas</p>
    </div>
  </section>

  <section class="quiz-section">
    <div class="container">
      <div class="quiz-wrapper" id="quiz-wrapper">

        <!-- Progress bar -->
        <div class="progress-container" id="progress-container">
          <div class="progress-text">Pregunta <span id="progress-current">1</span> de <span id="progress-total">6</span></div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill" style="width: 16.66%"></div>
          </div>
        </div>

        <!-- Step 1 -->
        <div class="quiz-step active" data-step="1">
          <h2 class="quiz-question">¿Cuántas horas al día pasas sentado/a?</h2>
          <div class="quiz-options">
            <button class="quiz-option" data-question="0" data-points="0">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              </span>
              <span class="quiz-option-text">Menos de 4 horas</span>
            </button>
            <button class="quiz-option" data-question="0" data-points="1">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              </span>
              <span class="quiz-option-text">Entre 4 y 6 horas</span>
            </button>
            <button class="quiz-option" data-question="0" data-points="2">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              </span>
              <span class="quiz-option-text">Entre 6 y 8 horas</span>
            </button>
            <button class="quiz-option" data-question="0" data-points="3">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              </span>
              <span class="quiz-option-text">Más de 8 horas</span>
            </button>
          </div>
        </div>

        <!-- Step 2 -->
        <div class="quiz-step" data-step="2">
          <h2 class="quiz-question">¿Cómo es tu puesto de trabajo?</h2>
          <div class="quiz-options">
            <button class="quiz-option" data-question="1" data-points="0">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="2"/><line x1="6" y1="10" x2="6" y2="14"/><line x1="18" y1="10" x2="18" y2="14"/></svg>
              </span>
              <span class="quiz-option-text">Escritorio ergonómico con silla ajustable</span>
            </button>
            <button class="quiz-option" data-question="1" data-points="1">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="2"/><line x1="6" y1="10" x2="6" y2="14"/><line x1="18" y1="10" x2="18" y2="14"/></svg>
              </span>
              <span class="quiz-option-text">Escritorio normal con silla de oficina</span>
            </button>
            <button class="quiz-option" data-question="1" data-points="2">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="2"/><line x1="6" y1="10" x2="6" y2="14"/><line x1="18" y1="10" x2="18" y2="14"/></svg>
              </span>
              <span class="quiz-option-text">Portátil en mesa no adaptada</span>
            </button>
            <button class="quiz-option" data-question="1" data-points="3">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="2"/><line x1="6" y1="10" x2="6" y2="14"/><line x1="18" y1="10" x2="18" y2="14"/></svg>
              </span>
              <span class="quiz-option-text">Sofá, cama o sin puesto fijo</span>
            </button>
          </div>
        </div>

        <!-- Step 3 -->
        <div class="quiz-step" data-step="3">
          <h2 class="quiz-question">¿Con qué frecuencia haces ejercicio?</h2>
          <div class="quiz-options">
            <button class="quiz-option" data-question="2" data-points="0">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><path d="M6.5 8a2 2 0 0 0-1.9 1.3L2 16h3l1.5-4L9 17l-1 5h2l2-6 2 6h2l-1-5 2.5-5 1.5 4h3l-2.6-6.7A2 2 0 0 0 17.5 8h-11z"/></svg>
              </span>
              <span class="quiz-option-text">3 o más veces por semana</span>
            </button>
            <button class="quiz-option" data-question="2" data-points="1">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><path d="M6.5 8a2 2 0 0 0-1.9 1.3L2 16h3l1.5-4L9 17l-1 5h2l2-6 2 6h2l-1-5 2.5-5 1.5 4h3l-2.6-6.7A2 2 0 0 0 17.5 8h-11z"/></svg>
              </span>
              <span class="quiz-option-text">1-2 veces por semana</span>
            </button>
            <button class="quiz-option" data-question="2" data-points="2">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><path d="M6.5 8a2 2 0 0 0-1.9 1.3L2 16h3l1.5-4L9 17l-1 5h2l2-6 2 6h2l-1-5 2.5-5 1.5 4h3l-2.6-6.7A2 2 0 0 0 17.5 8h-11z"/></svg>
              </span>
              <span class="quiz-option-text">Alguna vez al mes</span>
            </button>
            <button class="quiz-option" data-question="2" data-points="3">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><path d="M6.5 8a2 2 0 0 0-1.9 1.3L2 16h3l1.5-4L9 17l-1 5h2l2-6 2 6h2l-1-5 2.5-5 1.5 4h3l-2.6-6.7A2 2 0 0 0 17.5 8h-11z"/></svg>
              </span>
              <span class="quiz-option-text">Casi nunca o nunca</span>
            </button>
          </div>
        </div>

        <!-- Step 4 -->
        <div class="quiz-step" data-step="4">
          <h2 class="quiz-question">¿Cómo duermes habitualmente?</h2>
          <div class="quiz-options">
            <button class="quiz-option" data-question="3" data-points="0">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
              </span>
              <span class="quiz-option-text">Boca arriba con almohada baja</span>
            </button>
            <button class="quiz-option" data-question="3" data-points="1">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
              </span>
              <span class="quiz-option-text">De lado con almohada entre rodillas</span>
            </button>
            <button class="quiz-option" data-question="3" data-points="2">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
              </span>
              <span class="quiz-option-text">De lado sin almohada entre piernas</span>
            </button>
            <button class="quiz-option" data-question="3" data-points="3">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
              </span>
              <span class="quiz-option-text">Boca abajo</span>
            </button>
          </div>
        </div>

        <!-- Step 5 -->
        <div class="quiz-step" data-step="5">
          <h2 class="quiz-question">¿Sientes alguna de estas molestias con frecuencia?</h2>
          <div class="quiz-options">
            <button class="quiz-option" data-question="4" data-points="0">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
              </span>
              <span class="quiz-option-text">Ninguna molestia</span>
            </button>
            <button class="quiz-option" data-question="4" data-points="1">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
              </span>
              <span class="quiz-option-text">Tensión leve en cuello u hombros</span>
            </button>
            <button class="quiz-option" data-question="4" data-points="2">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
              </span>
              <span class="quiz-option-text">Dolor de espalda o lumbar recurrente</span>
            </button>
            <button class="quiz-option" data-question="4" data-points="3">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
              </span>
              <span class="quiz-option-text">Dolor intenso, hormigueo o limitación de movimiento</span>
            </button>
          </div>
        </div>

        <!-- Step 6 -->
        <div class="quiz-step" data-step="6">
          <h2 class="quiz-question">¿Con qué frecuencia miras el móvil inclinando la cabeza?</h2>
          <div class="quiz-options">
            <button class="quiz-option" data-question="5" data-points="0">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
              </span>
              <span class="quiz-option-text">Casi nunca, lo pongo a la altura de los ojos</span>
            </button>
            <button class="quiz-option" data-question="5" data-points="1">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
              </span>
              <span class="quiz-option-text">A veces, pero intento corregirlo</span>
            </button>
            <button class="quiz-option" data-question="5" data-points="2">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
              </span>
              <span class="quiz-option-text">Bastante, sobre todo en redes sociales</span>
            </button>
            <button class="quiz-option" data-question="5" data-points="3">
              <span class="quiz-option-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
              </span>
              <span class="quiz-option-text">Constantemente, muchas horas al día</span>
            </button>
          </div>
        </div>

        <!-- Result -->
        <div class="quiz-result" id="quiz-result">
          <div class="result-card" id="result-card">
            <span class="result-tag">Tu resultado</span>
            <div class="score-circle" id="score-circle">
              <span class="score-number" id="score-number">0</span>
              <span class="score-total">/18</span>
            </div>
            <h2 class="result-level" id="result-level"></h2>
            <p class="result-description" id="result-description"></p>

            <div class="result-tips">
              <h3 class="tips-title">Recomendaciones para ti</h3>
              <ul class="tips-list" id="tips-list"></ul>
            </div>

            <div class="result-specific" id="result-specific">
              <h3 class="specific-title">Consejos específicos</h3>
              <ul class="specific-list" id="specific-list"></ul>
            </div>

            <div class="result-share">
              <p class="share-label">Comparte tu resultado</p>
              <div class="share-buttons">
                <a class="share-btn share-whatsapp" id="share-whatsapp" href="#" target="_blank" rel="noopener" aria-label="Compartir en WhatsApp">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                  WhatsApp
                </a>
                <button class="share-btn share-copy" id="share-copy" aria-label="Copiar enlace">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                  Copiar enlace
                </button>
              </div>
            </div>

            <div class="result-actions">
              <a class="btn btn-primary" id="result-whatsapp" href="#" target="_blank" rel="noopener">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                Reservar Valoración
              </a>
              <a class="btn btn-secondary-outline" href="/guia-estiramientos">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                Ver Guía de Estiramientos
              </a>
            </div>
          </div>

          <div class="result-footer">
            <button class="btn btn-restart" id="btn-restart">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
              Volver a hacer el test
            </button>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Mejora tu postura section -->
  <section class="improve-section" id="improve-section">
    <div class="container">
      <h2 class="improve-title">Mejora tu postura</h2>
      <div class="improve-grid">
        <a href="/guia-estiramientos" class="improve-card">
          <div class="improve-card-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><path d="M6.5 8a2 2 0 0 0-1.9 1.3L2 16h3l1.5-4L9 17l-1 5h2l2-6 2 6h2l-1-5 2.5-5 1.5 4h3l-2.6-6.7A2 2 0 0 0 17.5 8h-11z"/></svg>
          </div>
          <h3>Guía de Estiramientos</h3>
          <p>Ejercicios sencillos para hacer en casa y aliviar tensiones musculares día a día.</p>
          <span class="improve-card-link">Ver guía</span>
        </a>
        <a href="/servicios/osteopatia-alpedrete" class="improve-card">
          <div class="improve-card-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 18.7c1.2-.6 2-1.9 2-3.2 0-2.1-1.7-3.7-3.7-3.7-.4 0-.7.1-1 .2C14.7 9.8 12.6 8 10 8c-3 0-5.5 2.5-5.5 5.5 0 1.3.5 2.5 1.2 3.4"/><path d="M12 14v4"/><path d="M10 16h4"/></svg>
          </div>
          <h3>Osteopatía</h3>
          <p>Tratamiento manual global para corregir desequilibrios posturales desde su origen.</p>
          <span class="improve-card-link">Ver servicio</span>
        </a>
        <a href="/servicios/masaje-deportivo-alpedrete" class="improve-card">
          <div class="improve-card-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
          </div>
          <h3>Masaje Deportivo</h3>
          <p>Libera contracturas y tensiones musculares para mejorar tu movilidad y bienestar.</p>
          <span class="improve-card-link">Ver servicio</span>
        </a>
      </div>
    </div>
  </section>

  <CTASection
    title="¿Quieres mejorar tu postura?"
    description="Reserva una valoración postural personalizada y empieza a sentirte mejor desde la primera sesión."
    buttonText="Reservar Valoración por WhatsApp"
    buttonLink="https://wa.me/34643961065?text=Hola%20Katy,%20he%20hecho%20el%20test%20de%20postura%20y%20me%20gustaría%20una%20valoración"
  />
</Layout>

<style>
  /* Page Header */
  .page-header {
    padding-top: 150px;
    padding-bottom: 60px;
    background: linear-gradient(135deg, var(--color-cream) 0%, var(--color-warm-white) 100%);
    text-align: center;
  }

  .page-header h1 {
    margin-bottom: 20px;
  }

  .page-header p {
    margin: 0 auto;
    max-width: 600px;
  }

  /* Quiz Section */
  .quiz-section {
    background: var(--color-warm-white);
    padding: 60px 0 80px;
  }

  .quiz-wrapper {
    max-width: 600px;
    margin: 0 auto;
  }

  /* Progress */
  .progress-container {
    margin-bottom: 35px;
  }

  .progress-text {
    font-size: 0.9rem;
    color: var(--color-text-light);
    margin-bottom: 10px;
    text-align: center;
    font-weight: 500;
  }

  .progress-bar {
    width: 100%;
    height: 6px;
    background: rgba(90, 124, 89, 0.12);
    border-radius: 10px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
    border-radius: 10px;
    transition: width 0.4s ease;
  }

  /* Steps */
  .quiz-step {
    display: none;
    animation: fadeSlideIn 0.4s ease;
  }

  .quiz-step.active {
    display: block;
  }

  @keyframes fadeSlideIn {
    from {
      opacity: 0;
      transform: translateY(15px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .quiz-question {
    font-size: 1.5rem;
    text-align: center;
    margin-bottom: 30px;
    color: var(--color-text);
    line-height: 1.3;
  }

  .quiz-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .quiz-option {
    display: flex;
    align-items: center;
    gap: 16px;
    width: 100%;
    padding: 20px 24px;
    background: white;
    border: 2px solid rgba(90, 124, 89, 0.12);
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.25s ease;
    text-align: left;
    font-family: inherit;
    font-size: 1rem;
    color: var(--color-text);
    line-height: 1.4;
  }

  .quiz-option:hover {
    border-color: var(--color-primary);
    background: var(--color-cream);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(90, 124, 89, 0.1);
  }

  .quiz-option:active {
    transform: translateY(0);
    background: var(--color-secondary-light);
    border-color: var(--color-primary);
  }

  .quiz-option-icon {
    flex-shrink: 0;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-secondary-light);
    border-radius: 12px;
    color: var(--color-primary);
    transition: all 0.25s ease;
  }

  .quiz-option:hover .quiz-option-icon {
    background: var(--color-primary);
    color: white;
  }

  .quiz-option-text {
    font-weight: 500;
  }

  /* Result */
  .quiz-result {
    display: none;
    animation: fadeSlideIn 0.5s ease;
  }

  .quiz-result.active {
    display: block;
  }

  .result-card {
    background: white;
    border-radius: 20px;
    padding: 40px 35px;
    border: 2px solid var(--color-primary);
    text-align: center;
    margin-bottom: 20px;
    box-shadow: 0 10px 40px rgba(90, 124, 89, 0.12);
  }

  .result-tag {
    display: inline-block;
    background: var(--color-secondary-light);
    color: var(--color-primary-dark);
    padding: 6px 18px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 24px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  /* Score Circle */
  .score-circle {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin: 0 auto 24px;
    border: 4px solid;
    transition: border-color 0.3s ease, background 0.3s ease;
  }

  .score-circle.level-excellent {
    border-color: #4caf50;
    background: rgba(76, 175, 80, 0.08);
  }

  .score-circle.level-good {
    border-color: #8bc34a;
    background: rgba(139, 195, 74, 0.08);
  }

  .score-circle.level-attention {
    border-color: #ff9800;
    background: rgba(255, 152, 0, 0.08);
  }

  .score-circle.level-high {
    border-color: #f44336;
    background: rgba(244, 67, 54, 0.08);
  }

  .score-number {
    font-family: var(--font-display);
    font-size: 2.8rem;
    font-weight: 700;
    line-height: 1;
  }

  .score-circle.level-excellent .score-number {
    color: #4caf50;
  }

  .score-circle.level-good .score-number {
    color: #8bc34a;
  }

  .score-circle.level-attention .score-number {
    color: #ff9800;
  }

  .score-circle.level-high .score-number {
    color: #f44336;
  }

  .score-total {
    font-size: 0.9rem;
    color: var(--color-text-light);
    font-weight: 500;
  }

  /* Result Level */
  .result-level {
    font-size: 1.6rem;
    margin-bottom: 12px;
  }

  .result-level.level-excellent {
    color: #4caf50;
  }

  .result-level.level-good {
    color: #8bc34a;
  }

  .result-level.level-attention {
    color: #ff9800;
  }

  .result-level.level-high {
    color: #f44336;
  }

  .result-description {
    color: var(--color-text-light);
    line-height: 1.7;
    font-size: 1rem;
    margin-bottom: 30px;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Tips */
  .result-tips,
  .result-specific {
    text-align: left;
    background: var(--color-cream);
    border-radius: 16px;
    padding: 24px 28px;
    margin-bottom: 24px;
  }

  .tips-title,
  .specific-title {
    font-size: 1.1rem;
    color: var(--color-primary-dark);
    margin-bottom: 14px;
    font-family: var(--font-display);
    font-weight: 600;
  }

  .tips-list,
  .specific-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .tips-list li,
  .specific-list li {
    position: relative;
    padding-left: 24px;
    margin-bottom: 10px;
    color: var(--color-text);
    line-height: 1.6;
    font-size: 0.95rem;
  }

  .tips-list li:last-child,
  .specific-list li:last-child {
    margin-bottom: 0;
  }

  .tips-list li::before,
  .specific-list li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 8px;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--color-primary);
  }

  .specific-list li::before {
    background: var(--color-secondary);
  }

  /* Share */
  .result-share {
    margin-bottom: 30px;
    padding-top: 6px;
  }

  .share-label {
    font-size: 0.9rem;
    color: var(--color-text-light);
    margin-bottom: 12px;
    max-width: none;
  }

  .share-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .share-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 10px 18px;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.25s ease;
    cursor: pointer;
    border: none;
    font-family: inherit;
  }

  .share-whatsapp {
    background: #25d366;
    color: white;
  }

  .share-whatsapp:hover {
    background: #1fb855;
    transform: translateY(-1px);
    color: white;
  }

  .share-copy {
    background: white;
    color: var(--color-text);
    border: 1px solid rgba(90, 124, 89, 0.2) !important;
  }

  .share-copy:hover {
    background: var(--color-cream);
    transform: translateY(-1px);
  }

  .share-copy.copied {
    background: var(--color-secondary-light);
    color: var(--color-primary);
    border-color: var(--color-primary) !important;
  }

  /* Result Actions */
  .result-actions {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
  }

  .result-actions .btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 16px 30px;
    border-radius: 50px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    font-family: inherit;
    white-space: nowrap;
  }

  .btn-primary {
    background: var(--color-primary);
    color: white;
  }

  .btn-primary:hover {
    background: var(--color-primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(90, 124, 89, 0.25);
    color: white;
  }

  .btn-secondary-outline {
    background: transparent;
    color: var(--color-primary);
    border: 2px solid var(--color-primary) !important;
  }

  .btn-secondary-outline:hover {
    background: var(--color-secondary-light);
    transform: translateY(-2px);
    color: var(--color-primary-dark);
  }

  /* Result Footer */
  .result-footer {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  .btn-restart {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 14px 28px;
    background: transparent;
    color: var(--color-text-light);
    border: 2px solid rgba(90, 124, 89, 0.2);
    border-radius: 50px;
    font-size: 0.95rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: inherit;
  }

  .btn-restart:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
    transform: translateY(-2px);
  }

  /* Improve Section */
  .improve-section {
    background: var(--color-cream);
    padding: 80px 0;
  }

  .improve-title {
    text-align: center;
    margin-bottom: 50px;
    color: var(--color-text);
  }

  .improve-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
    max-width: 960px;
    margin: 0 auto;
  }

  .improve-card {
    background: white;
    border-radius: 20px;
    padding: 35px 28px;
    text-align: center;
    text-decoration: none;
    color: var(--color-text);
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .improve-card:hover {
    border-color: var(--color-primary);
    transform: translateY(-4px);
    box-shadow: 0 12px 35px rgba(90, 124, 89, 0.12);
    color: var(--color-text);
  }

  .improve-card-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-secondary-light);
    border-radius: 16px;
    color: var(--color-primary);
    margin: 0 auto 20px;
    transition: all 0.3s ease;
  }

  .improve-card:hover .improve-card-icon {
    background: var(--color-primary);
    color: white;
  }

  .improve-card h3 {
    font-size: 1.2rem;
    margin-bottom: 10px;
    color: var(--color-text);
    font-family: var(--font-display);
  }

  .improve-card p {
    font-size: 0.95rem;
    color: var(--color-text-light);
    line-height: 1.6;
    margin-bottom: 16px;
    max-width: none;
  }

  .improve-card-link {
    font-weight: 600;
    color: var(--color-primary);
    font-size: 0.95rem;
    transition: color 0.3s ease;
  }

  .improve-card:hover .improve-card-link {
    color: var(--color-primary-dark);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .page-header {
      padding-top: 120px;
      padding-bottom: 40px;
    }

    .quiz-section {
      padding: 40px 0 60px;
    }

    .quiz-question {
      font-size: 1.25rem;
    }

    .quiz-option {
      padding: 16px 18px;
      gap: 12px;
    }

    .quiz-option-icon {
      width: 40px;
      height: 40px;
    }

    .quiz-option-icon svg {
      width: 20px;
      height: 20px;
    }

    .quiz-option-text {
      font-size: 0.95rem;
    }

    .result-card {
      padding: 30px 22px;
    }

    .result-level {
      font-size: 1.3rem;
    }

    .score-circle {
      width: 100px;
      height: 100px;
    }

    .score-number {
      font-size: 2.2rem;
    }

    .result-tips,
    .result-specific {
      padding: 20px 22px;
    }

    .result-actions .btn {
      width: 100%;
      justify-content: center;
    }

    .improve-section {
      padding: 60px 0;
    }

    .improve-grid {
      grid-template-columns: 1fr;
      gap: 20px;
      max-width: 400px;
    }

    .improve-card {
      padding: 28px 24px;
    }
  }

  @media (max-width: 480px) {
    .page-header h1 {
      font-size: 1.6rem;
    }

    .quiz-question {
      font-size: 1.15rem;
    }

    .quiz-option {
      padding: 14px 16px;
      gap: 10px;
      font-size: 0.95rem;
    }

    .quiz-option-icon {
      width: 36px;
      height: 36px;
    }

    .quiz-option-icon svg {
      width: 18px;
      height: 18px;
    }

    .result-card {
      padding: 24px 18px;
    }

    .result-tips,
    .result-specific {
      padding: 18px;
    }
  }
</style>

<script>
  var scores = []; // scores[0..5] for each question
  var currentStep = 1;
  var totalSteps = 6;

  var steps = document.querySelectorAll('.quiz-step');
  var resultEl = document.getElementById('quiz-result');
  var progressContainer = document.getElementById('progress-container');
  var progressCurrent = document.getElementById('progress-current');
  var progressFill = document.getElementById('progress-fill');

  // Question labels for specific tips
  var questionLabels = [
    'sedentarismo',
    'ergonomia',
    'ejercicio',
    'descanso',
    'molestias',
    'movil'
  ];

  // Specific tips per question when that question scores high
  var specificTips = {
    sedentarismo: 'Intenta levantarte cada 45-60 minutos para caminar o estirarte. Programa alarmas si es necesario. Incluso 2 minutos de pie marcan la diferencia.',
    ergonomia: 'Ajusta la altura de tu pantalla a la línea de los ojos y los pies apoyados en el suelo. Si usas portátil, considera un soporte elevador y un teclado externo.',
    ejercicio: 'Incorpora al menos 30 minutos de actividad física 3 veces por semana. Caminar, nadar o yoga son excelentes opciones para mejorar la postura.',
    descanso: 'La posición ideal para dormir es boca arriba o de lado con una almohada entre las rodillas. Evita dormir boca abajo ya que fuerza la rotación cervical.',
    molestias: 'El dolor recurrente es una señal de que tu cuerpo necesita atención profesional. No esperes a que se cronifique. Una valoración osteopática puede identificar la causa.',
    movil: 'Eleva el móvil a la altura de los ojos para evitar el "cuello de texto". Esta postura puede añadir hasta 27 kg de presión extra sobre las cervicales.'
  };

  // Attach click listeners to all quiz options
  document.querySelectorAll('.quiz-option').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var questionIndex = parseInt(this.getAttribute('data-question'));
      var points = parseInt(this.getAttribute('data-points'));
      scores[questionIndex] = points;

      if (currentStep === totalSteps) {
        showResult();
        return;
      }

      goToStep(currentStep + 1);
    });
  });

  function goToStep(step) {
    // Hide current
    steps.forEach(function(s) { s.classList.remove('active'); });

    currentStep = step;

    // Update progress
    progressCurrent.textContent = currentStep;
    progressFill.style.width = (currentStep / totalSteps) * 100 + '%';

    // Show next
    var nextStep = document.querySelector('.quiz-step[data-step="' + currentStep + '"]');
    if (nextStep) {
      nextStep.classList.remove('active');
      // Force reflow for animation
      void nextStep.offsetWidth;
      nextStep.classList.add('active');
    }

    // Scroll to quiz top
    document.querySelector('.quiz-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  function getTotalScore() {
    var total = 0;
    for (var i = 0; i < scores.length; i++) {
      total += (scores[i] || 0);
    }
    return total;
  }

  function getLevel(score) {
    if (score <= 4) {
      return {
        key: 'excellent',
        title: 'Excelente',
        description: 'Tu postura es muy buena. Sigue así y mantén tus buenos hábitos.',
        tips: [
          'Mantén tu rutina de ejercicio actual, es clave para una buena postura.',
          'Realiza una revisión preventiva con tu osteópata cada 6 meses.',
          'Continúa con tus hábitos ergonómicos en el trabajo.',
          'Incorpora estiramientos suaves antes de dormir para mantener la flexibilidad.'
        ]
      };
    }
    if (score <= 8) {
      return {
        key: 'good',
        title: 'Buena con margen de mejora',
        description: 'Tu postura es aceptable pero hay aspectos que puedes mejorar.',
        tips: [
          'Incorpora una rutina de estiramientos diarios de 10-15 minutos.',
          'Revisa la ergonomía de tu puesto de trabajo y haz los ajustes necesarios.',
          'Aumenta tu actividad física semanal si es posible.',
          'Presta atención a tu postura al usar el móvil y el ordenador.'
        ]
      };
    }
    if (score <= 13) {
      return {
        key: 'attention',
        title: 'Necesita atención',
        description: 'Tu postura está afectando a tu bienestar. Es recomendable tomar medidas.',
        tips: [
          'Te recomiendo una sesión de osteopatía para evaluar tu postura en profundidad.',
          'Realiza cambios ergonómicos en tu puesto de trabajo lo antes posible.',
          'Establece una rutina de estiramientos diarios, especialmente para cuello y espalda.',
          'Reduce el tiempo sedentario levantándote cada 45 minutos.'
        ]
      };
    }
    return {
      key: 'high',
      title: 'Riesgo alto',
      description: 'Tu postura necesita atención profesional. El dolor y las molestias pueden empeorar.',
      tips: [
        'Solicita una valoración osteopática lo antes posible para evaluar tu estado.',
        'Realiza cambios inmediatos en tus hábitos posturales diarios.',
        'Inicia una rutina de estiramientos suaves adaptados a tu condición.',
        'Considera cambiar tu puesto de trabajo a uno ergonómico cuanto antes.'
      ]
    };
  }

  function getSpecificTips(scores) {
    var tips = [];
    // Find questions with score >= 2 (the worst ones)
    var worstQuestions = [];
    for (var i = 0; i < scores.length; i++) {
      if (scores[i] >= 2) {
        worstQuestions.push({ index: i, score: scores[i] });
      }
    }
    // Sort by score descending
    worstQuestions.sort(function(a, b) { return b.score - a.score; });

    // Take top 3
    var top = worstQuestions.slice(0, 3);
    for (var j = 0; j < top.length; j++) {
      var label = questionLabels[top[j].index];
      if (specificTips[label]) {
        tips.push(specificTips[label]);
      }
    }
    return tips;
  }

  function showResult() {
    // Hide all steps and progress
    steps.forEach(function(s) { s.classList.remove('active'); });
    progressContainer.style.display = 'none';

    var totalScore = getTotalScore();
    var level = getLevel(totalScore);

    // Score circle
    var scoreCircle = document.getElementById('score-circle');
    scoreCircle.className = 'score-circle level-' + level.key;
    document.getElementById('score-number').textContent = totalScore;

    // Level title
    var resultLevel = document.getElementById('result-level');
    resultLevel.textContent = level.title;
    resultLevel.className = 'result-level level-' + level.key;

    // Description
    document.getElementById('result-description').textContent = level.description;

    // Tips list
    var tipsList = document.getElementById('tips-list');
    tipsList.innerHTML = '';
    for (var i = 0; i < level.tips.length; i++) {
      var li = document.createElement('li');
      li.textContent = level.tips[i];
      tipsList.appendChild(li);
    }

    // Specific tips based on worst scoring questions
    var specific = getSpecificTips(scores);
    var specificSection = document.getElementById('result-specific');
    var specificList = document.getElementById('specific-list');
    specificList.innerHTML = '';
    if (specific.length > 0) {
      specificSection.style.display = 'block';
      for (var k = 0; k < specific.length; k++) {
        var sli = document.createElement('li');
        sli.textContent = specific[k];
        specificList.appendChild(sli);
      }
    } else {
      specificSection.style.display = 'none';
    }

    // WhatsApp CTA link
    var waUrl = 'https://wa.me/34643961065?text=Hola%20Katy,%20he%20hecho%20el%20test%20de%20postura%20y%20mi%20puntuación%20es%20' + totalScore + '/18.%20Me%20gustaría%20una%20valoración';
    document.getElementById('result-whatsapp').href = waUrl;

    // Share WhatsApp
    var shareText = encodeURIComponent('He hecho el test de postura de Katy Caballero y mi resultado es ' + totalScore + '/18 (' + level.title + '). Haz el tuyo:');
    var shareUrl = window.location.origin + '/test-postura';
    document.getElementById('share-whatsapp').href = 'https://wa.me/?text=' + shareText + '%20' + encodeURIComponent(shareUrl);

    // Show result
    resultEl.classList.add('active');

    // Scroll to result
    document.querySelector('.quiz-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  // Copy link button
  document.getElementById('share-copy').addEventListener('click', function() {
    var url = window.location.origin + '/test-postura';
    var btn = this;
    if (navigator.clipboard) {
      navigator.clipboard.writeText(url).then(function() {
        btn.classList.add('copied');
        btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> Enlace copiado';
        setTimeout(function() {
          btn.classList.remove('copied');
          btn.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copiar enlace';
        }, 2000);
      });
    }
  });

  // Restart button
  document.getElementById('btn-restart').addEventListener('click', function() {
    // Reset scores
    scores = [];
    currentStep = 1;

    // Hide result
    resultEl.classList.remove('active');

    // Show progress
    progressContainer.style.display = 'block';
    progressCurrent.textContent = '1';
    progressFill.style.width = (1 / totalSteps) * 100 + '%';

    // Show first step
    steps.forEach(function(s) { s.classList.remove('active'); });
    var firstStep = document.querySelector('.quiz-step[data-step="1"]');
    void firstStep.offsetWidth;
    firstStep.classList.add('active');

    // Scroll to top
    document.querySelector('.quiz-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
  });
</script>
