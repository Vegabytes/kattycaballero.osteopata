---
interface Testimonial {
  text: string;
  author: string;
  role: string;
  rating: number;
}

const testimonials: Testimonial[] = [
  {
    text: "Katy me ha ayudado con los problemas de espalda ya que trabajo muchas horas con el ordenador. También de una lesión en el gemelo que me impedía hacer deporte. Es una persona muy agradable y comunicativa, transmite tranquilidad y confianza.",
    author: "Alejandro Castillo",
    role: "Reseña de Google",
    rating: 5
  },
  {
    text: "Katy me ha ayudado a recuperarme de una lesión en la muñeca y hombro que me ha dado mucho la lata y hoy puedo decir que estoy curada. Es muy buena profesional.",
    author: "Elena Cibrián",
    role: "Reseña de Google",
    rating: 5
  },
  {
    text: "Todo perfecto. Muy profesional. Perfecto en el trato y el tratamiento. Muy recomendable.",
    author: "Ricardo R.",
    role: "Reseña de Google",
    rating: 5
  },
  {
    text: "He tenido unas sesiones con ella, además de una muy buena profesional, te escucha y está atenta en todo el momento de la sesión.",
    author: "Meriem Lazar",
    role: "Reseña de Google",
    rating: 5
  },
  {
    text: "Todo salió bien. Un servicio profesional.",
    author: "Kingsley Shaw",
    role: "Reseña de Google",
    rating: 5
  }
];

const googleReviewsUrl = "https://g.page/r/CenterMasajeOsteopatiaKatyCaballero/review";
---

<section class="testimonials" id="testimonios">
  <div class="container">
    <div class="section-header">
      <span class="section-tag">Testimonios</span>
      <h2>Lo que dicen mis pacientes</h2>
      <div class="google-rating">
        <svg viewBox="0 0 24 24" class="google-icon"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
        <span class="rating-score">5.0</span>
        <div class="rating-stars">
          {[...Array(5)].map(() => (
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
            </svg>
          ))}
        </div>
        <span class="rating-count">5 reseñas en Google</span>
      </div>
    </div>
    
    <div class="testimonials-grid">
      {testimonials.map(testimonial => (
        <div class="testimonial-card">
          <div class="testimonial-header">
            <svg viewBox="0 0 24 24" class="google-icon-small"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
            <div class="testimonial-stars">
              {[...Array(testimonial.rating)].map(() => (
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                </svg>
              ))}
            </div>
          </div>
          <p class="testimonial-text">"{testimonial.text}"</p>
          <div class="testimonial-author">
            <div class="testimonial-avatar">
              {testimonial.author.charAt(0)}
            </div>
            <div>
              <div class="testimonial-author-name">{testimonial.author}</div>
              <div class="testimonial-author-role">{testimonial.role}</div>
            </div>
          </div>
        </div>
      ))}
    </div>
    
    <div class="testimonials-cta">
      <p>¿Ya has visitado la consulta?</p>
      <a href="https://g.page/r/CUVuAD3Rp90PEBE/review" target="_blank" rel="noopener" class="btn-google-review">
        <svg viewBox="0 0 24 24" class="google-icon-small"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
        Dejar reseña en Google
      </a>
    </div>
  </div>
</section>

<style>
  .testimonials {
    background: var(--color-primary-dark);
    color: white;
    position: relative;
    overflow: hidden;
  }
  
  .testimonials::before {
    content: '"';
    position: absolute;
    top: -80px;
    left: 10%;
    font-family: var(--font-display);
    font-size: 500px;
    color: rgba(255, 255, 255, 0.03);
    line-height: 1;
    pointer-events: none;
  }
  
  .testimonials .section-tag {
    color: var(--color-secondary-light);
  }
  
  .testimonials h2 {
    color: white;
    margin-bottom: 20px;
  }
  
  .google-rating {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin-top: 15px;
  }
  
  .google-icon {
    width: 24px;
    height: 24px;
  }
  
  .google-icon-small {
    width: 18px;
    height: 18px;
  }
  
  .rating-score {
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
  }
  
  .rating-stars {
    display: flex;
    gap: 2px;
  }
  
  .rating-stars svg {
    width: 20px;
    height: 20px;
    fill: #FBBC05;
  }
  
  .rating-count {
    color: rgba(255,255,255,0.7);
    font-size: 0.9rem;
  }
  
  .testimonials-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
    margin-top: 50px;
  }
  
  .testimonial-card {
    background: rgba(255, 255, 255, 0.08);
    padding: 30px;
    border-radius: 20px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: var(--transition);
  }
  
  .testimonial-card:hover {
    background: rgba(255, 255, 255, 0.12);
    transform: translateY(-5px);
  }
  
  .testimonial-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
  }
  
  .testimonial-stars {
    display: flex;
    gap: 2px;
  }
  
  .testimonial-stars svg {
    width: 16px;
    height: 16px;
    fill: #FBBC05;
  }
  
  .testimonial-text {
    font-size: 1rem;
    line-height: 1.8;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 25px;
    font-style: italic;
    max-width: none;
  }
  
  .testimonial-author {
    display: flex;
    align-items: center;
    gap: 15px;
  }
  
  .testimonial-avatar {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: var(--color-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 1.1rem;
    color: white;
  }
  
  .testimonial-author-name {
    font-weight: 600;
    color: white;
    font-size: 0.95rem;
  }
  
  .testimonial-author-role {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.6);
  }
  
  .testimonials-cta {
    text-align: center;
    margin-top: 50px;
    padding-top: 40px;
    border-top: 1px solid rgba(255,255,255,0.1);
  }
  
  .testimonials-cta p {
    color: rgba(255,255,255,0.8);
    margin-bottom: 20px;
    font-size: 1.1rem;
  }
  
  .btn-google-review {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: white;
    color: #333;
    padding: 14px 28px;
    border-radius: 50px;
    font-weight: 600;
    text-decoration: none;
    transition: var(--transition);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }
  
  .btn-google-review:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    color: #333;
  }
  
  @media (max-width: 1024px) {
    .testimonials-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (max-width: 600px) {
    .testimonials-grid {
      grid-template-columns: 1fr;
    }
    
    .testimonial-card {
      padding: 25px;
    }
    
    .google-rating {
      flex-wrap: wrap;
    }
  }
</style>
